create database app_db;
create user app_user;
alter user app_user with password 'app_password';
alter database app_db OWNER TO app_user;

\c app_db;

CREATE SCHEMA app_schema;

CREATE TABLE IF NOT EXISTS app_schema.IMAGES
(
    ID         UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    NAME       VARCHAR(255) NOT NULL,
    IMAGE_DATA TEXT         NOT NULL
);

insert into app_schema.images(id, name, image_data)
values (gen_random_uuid(), 'rocket.png',
        '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');
insert into app_schema.images(id, name, image_data)
values (gen_random_uuid(), 'house.png',
        'iVBORw0KGgoAAAANSUhEUgAAA5gAAAIABAMAAAAVpN4UAAAAElBMVEXm5uYAAAD///9gYGAqKiqlpaV9ai9BAAAKt0lEQVR42u3dXXLixhqAYaPU3Lsxvm8E3AcqWQDkLGAg5+x/K2cMmMEzCJsfoe7W05WbN07BhGdkI31q81TvVnzaLZlzeiVgSpgSpoQJU8KUMCVMCROmhClhSpjyPX+sav+vZMYJE6aEKWFKmDAlTAlTwpQwYUqYEqaEKbeYhoGG0xKmhClhwpQwJUwJU8KEKWFKmBKmhGkXmDScljAlTJheGJgSpoQpYcKUMCVMCVPChClTxjQMNJyWMCVMCROmhClhSpgSJkwJU8KUMCVMu8Ck4bSEeZesYw2zkKznISxgFpHVOvxYFcwCspq8WYZXmAVkvdxi7r7Rwsw6q/HOMrzAzD5jeF8rmJlnNThgBpiZ5+ynZRjCzDvXR5gBZtY5ObYMzzBzzuUHzFDBzDenHy3DaywZs+z5Xgy/ro3hdKZ5fFpyfOUAZoY5C7+vFcwss1qfwBzBzDIn4dQawswwfz0tObqoBzOzrKanLbeHJsy8sg5Nq4KZWdaDRsxXmLllaF4bmHnl+gzmC8yschbOrQXMnHJ+FnNUw8wnp+H8WkWY2WT4bNVFTolKnO9Vg08xh4bTmWQMn68KZhZZrb+A+Qwzi5yFr6wNzAyymn8J8xVm+llNw9fWAmby2TTGPHk7EMy0cxy+ulYwU8/w9QUz8RxcgDn8/Cynbl4w285ZuGR9+six4Z3xnzAfkOuLMJ/j+UduHr4sYLaek3DZ2px/5HFWP29Lw1xeiLnfSNR0yjo/d5YKs90ch0vX4uwjn722mx5mUQO9eLHlfiNRwyOf+6b9Eg2n28xqcDnmbiNRwyOfvTAIs9WcXWG520jU8MhjmF1ltb4Gc3vPAczUbmGfhOsWzAQxl1diPsNMLsfh2lXBTC2vtgyvMBPLwfWYYQMzqYw3WIYXmEnl+hbM/UW9RszRf44WzLZzcpPlYSNRA+bweCa9hNlyzm/DDMN4FvP4eWG2nNNw66phppI3W+7vOcgcs4R5ZjW4HXO3kajhrs3h0fNWy6/eP2Q4fU3GO1juNhLB7Dqr9T0wtxuJYHadk7tYbjcSwew65/fBPHH3JMxH5/ROlm/3HMDsOMPd1gpmxzm+H2aA2W3GO1q+X9SD2VEO7on5/rEnMDvJ2V0t3zcSwewk5/fF3G8kgtlFTu5sud9IBLOLXN4bc3fPAcwOcnx3y93tQLli5jzPjKGFtTKc7uQW9nUbmCOYXeQstLKGMJ/S+pX6N13Ug/nwnLRkGZ5hPjyXbWGGCuaDc9ya5eGzjGE+KkOLawPzoTloE/N9IxHMh+QstLpWMB+Y63Yx9xuJYD4iJ6HltbvnAOYjctk25u6eA5gPyGnrlrt7DmA+IMMDVvVkF9gjcvAIzFfD6UdkDA9ZG5gPyPVjMF9gtp+T8KC1gNl6zh+FOYLZdk7Dw9YKZssZHrhgtpvj0MGC2UrGALMYzDXMYjBnAWYxmHOYxWBOA8xSMOsAsxTMu/yKvKIxM5pnxtAZpuH0vXMAsxjMWYBZDOYcZjGYkwCzGMwlzGIwxwFmMZhdWr5vJIJ5nxx0ihlWEebdctat5X4jEcy75LpjzDCMMO+Uk9D5qmDeJzs9LTnaSATz9qzGISRxaMK8PWMKlm+/giR5zAzmmYMkMMPGcPr2nKVhGV5g3p7rRDD3n2UM84acpGK5v3IA84ZcJoO5u6gH8/qchoRWDfOmTMlye+UAZp3Qr9S/8coBzGszpmX5duUA5rW5TgwzbGBeewv7JDXLH4cmzCsx58lhhgXMq7KapmcZRjXMa7IOKa4VzCuyu01f5w/NebqY6c4zY0h7GU5fkGuYxWDOAsxiMOcwi8GcBpjFYAaYxWCOYRaDGQPMUjATvV4A85qcBZilYKY4LYF5XVbTALMUzJTuroR5W1bjALMUzJiH5dsnEtkF9lkOMsF8/yxjw+nmnIVc1gLmZ7nOBnP/WcYwG3MS8lnDCPNsLjPC3N0GBLMpxzlZ7j7LGGZqv1L/ylXBbL6FfZAZ5muE2ZSzkNvawGzaj7DODvMlwjx9C/sk5LcWME9mXqcl71cOIswTmckY89e1qmH+nnXIc8H8PbM7LTlc1LML7LeMIddVGU7/mutsMZ8jzI85CfmuDcyPOc8Y8zXCPL6FfRpyXguYR1lnbbm7HQhmzHNa8tuVgwjzPWPmltvbgWDGTKclJ24HghnzHGOeunIAM+Z+WvLzygHMt5yGEtYGZsz+tORw5QBmzP+05JdDs9eYsRDL8GIXWF3KgRnCqvfD6Vkxlu+fSNRjzHk5mLuNRP3FrCahpFX3GjPLuyvP33PQW8xqHMpaVY8xY2GW208k6ilmMdcLjm8H6ivmrDjL8BJ7ilnUacnhdqB+YhZ2WnK4ctBLzMJOSw4X9XqJOS7S8nBo9gqzyvfAnC2/MArrFWbGPzHrenbmvduwh7vAzn2X/SttzLcrA82cr93tI+oMs/mCwd+p7yLaDUdmfzWdavYPs+Fv9ujP9L8F72/Dr+N/YZ7BfPm+/Q+ywNz+H/0LswHzn2r/5XwwT3D6mbn9UXn4ak6Ydf3HxzOVYQ/vzvv4bnb09/FXs8KMdf3tmHPRQ8zjkcno+8ev5oX59OFMZRT7eN/s4W/zy6aOeWMen6msenkT9OT4XU/umIczlde6n3e0r9/e9ezfwOaPuc1vm95uT3jboHryq9li2tIHEyZMmCVjdr4L7FQmjpnUa5X0x0fBhAkTJkyYMGHChAkTJkyYMGHChAkTJkyYMGH2+7PAzDMNp2HChAkTJkyYMGHChAkTJkyYMGHChAkTJkyYMO0CM880nIYJEyZMmDBhwoQJEyZMmDBhwoQJEyZMmDBhwrQLzHAaJkyYMO+COfoen2L19s/7I28jPv0LMzvMYR33mu+PvNe8x5srmI/F3DQ/0RpmZphnnmgMsxzMCcxyMGcwYcJMEDPCdGTCdGTCdGTC7PuRWeg8MzY/0ewOf1MMp2HChAkTJkyYMGHChAkTJkyYMGHChAkTJkyYMO0CM5w2nIYJEyZMmDBhwoQJEyZMmDBhwoQJEyZMmDBhwnyyC8w803AaJkyYMGHChPn1NYLpyIQJEyZMmH5mOjJhOjJhOjJhOjJhOjIPmGXOM0eG0zBhwoQJEyZMmDBhwoQJEyZMmDBhwoQJEyZMmP3F7N9w+h77BQ2nYcKECRMmTJgwYcKECRMmTJgwYcLMA3MEsxzMF5iX5CxpzFeYl2RMGvM5Wcw0h3JJzzOHab1WqQ+nqzYxbz4yFzAvwlymfGRWMC/CXKd8ZEaYF+U44SPzGeZlOUn4yFzAvDATPjJrmBfm4Obz+uYnuvUsE+aFObn1FW8NcwPz4rzt5GR47onmrR3zMNt4m1Kde6Jxa48MsyFvOdV8OfvI8aZvsjCvyXlrL/nVR/1oU8O8Lv+49iVffPbI3675izL653/pvlbJY/4c7xy+Gqu3VX9lffLIN6x0MZOcZ/6aP/6gMfk/pOG0hClhwpQwJUwJU8KEKWFKmBImTC8MTJkIZhYzOlnAcFrChOmFgSlhSpgSJkwJU8KUMCVMmBKmfGgaBhpOS5gSpoQJU8KUMCVMCROmhClhSpgwvRIFYRoGGk5LmBKmhAlTwpQwJUwJE6aEKWFKmBKmXWDScFrClDBhemFgSpgSpoQJU8KUMCVMCROmTBnTMNBwWiaY/weY3YXTGL/vZwAAAABJRU5ErkJggg==');

GRANT CREATE ON SCHEMA app_schema TO app_user;
GRANT USAGE ON SCHEMA app_schema TO app_user;
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA app_schema TO app_user;

create database keycloak_db;
create user keycloak_user;
alter user keycloak_user with password 'keycloak_password';
alter database keycloak_db OWNER TO keycloak_user;

\q